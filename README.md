# E-Commerce ì¸ê¸° ìƒí’ˆ ì¡°íšŒ ì¿¼ë¦¬ ìµœì í™”

> MySQL ì¸ë±ìŠ¤ ì„¤ê³„ ë° EXPLAIN ë¶„ì„ì„ í†µí•œ ì¿¼ë¦¬ ì„±ëŠ¥ ê°œì„  (71.3% í–¥ìƒ)

---

## ğŸ“‹ ëª©ì°¨

- [ë°°ê²½](#-ë°°ê²½)
- [ëŒ€ìƒ ì¿¼ë¦¬](#-ëŒ€ìƒ-ì¿¼ë¦¬)
- [ìµœì í™” ê³¼ì •](#-ìµœì í™”-ê³¼ì •)
  - [1ë‹¨ê³„: ì¸ë±ìŠ¤ ì—†ìŒ](#-1ë‹¨ê³„-ì¸ë±ìŠ¤-ì—†ìŒ-ì´ˆê¸°-ìƒíƒœ)
  - [2ë‹¨ê³„: orders ì¸ë±ìŠ¤ë§Œ ì¶”ê°€](#-2ë‹¨ê³„-orders-í…Œì´ë¸”ì—ë§Œ-ì¸ë±ìŠ¤-ì¶”ê°€)
  - [3ë‹¨ê³„: order_items ì¸ë±ìŠ¤ ì¶”ê°€](#-3ë‹¨ê³„-order_items-ì¸ë±ìŠ¤-ì¶”ê°€-ìµœì¢…-í•´ê²°)
- [í•µì‹¬ êµí›ˆ](#-í•µì‹¬-êµí›ˆ)
- [ì‹¤í–‰ ê³„íš ìš©ì–´ ì„¤ëª…](#-ì‹¤í–‰-ê³„íš-ìš©ì–´-ì„¤ëª…)
- [í–¥í›„ ê°œì„  ë°©í–¥](#-í–¥í›„-ê°œì„ -ë°©í–¥)

---

## ğŸ“Œ ë°°ê²½

ì¸ê¸° ìƒí’ˆ ì¡°íšŒ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ ë¬¸ì œë¥¼ ë°œê²¬í•˜ê³ , **EXPLAIN/EXPLAIN ANALYZE**ë¥¼ í†µí•´ ì‹¤í–‰ ê³„íšì„ ë¶„ì„í•œ í›„ ì¸ë±ìŠ¤ ìµœì í™”ë¥¼ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

**ë¬¸ì œ ìƒí™©:**
- ìµœê·¼ 3ì¼ê°„ ì™„ë£Œëœ ì£¼ë¬¸ ì¤‘ ì¸ê¸° ìƒí’ˆ Top 5 ì¡°íšŒ
- ì´ˆê¸° ì‹¤í–‰ ì‹œê°„: **2,930ms** (ì•½ 2.93ì´ˆ)
- 400,000ê±´ì˜ order_items ì „ì²´ ìŠ¤ìº” ë°œìƒ

**ëª©í‘œ:**
- ì‹¤í–‰ ê³„íš ë¶„ì„ì„ í†µí•œ ë³‘ëª© ì§€ì  íŒŒì•…
- ì ì ˆí•œ ì¸ë±ìŠ¤ ì„¤ê³„ë¡œ ì¿¼ë¦¬ ì„±ëŠ¥ ê°œì„ 

---

## ğŸ” ëŒ€ìƒ ì¿¼ë¦¬

```sql
SELECT
    pd.id,
    pd.name,
    pd.price,
    pd.stock,
    pd.category,
    SUM(oi.quantity) as total_quantity
FROM order_items oi
JOIN orders o ON oi.order_id = o.id
JOIN products pd ON oi.product_id = pd.id
WHERE o.created_at >= DATE_SUB(NOW(), INTERVAL 3 DAY)
  AND o.status = 'COMPLETED'
GROUP BY pd.id, pd.name, pd.price, pd.stock, pd.category, pd.created_at
ORDER BY SUM(oi.quantity) DESC, MAX(o.created_at) DESC, pd.created_at DESC
LIMIT 5;
```

**ì¿¼ë¦¬ ë¶„ì„:**
- 3ê°œ í…Œì´ë¸” JOIN (order_items, orders, products)
- WHERE ì¡°ê±´: ë‚ ì§œ ë²”ìœ„ + ìƒíƒœ í•„í„°
- GROUP BY + ORDER BY + LIMIT 5

---

## ğŸš€ ìµœì í™” ê³¼ì •

### ğŸ” 1ë‹¨ê³„: ì¸ë±ìŠ¤ ì—†ìŒ (ì´ˆê¸° ìƒíƒœ)

#### ì‹¤í–‰ ê³„íš (EXPLAIN)
```
id  table  type  rows     Extra
1   oi     ALL   423,560  Using temporary; Using filesort
1   pd     eq_ref    1    NULL
1   o      eq_ref    1    Using where
```

#### ì‹¤ì œ ì„±ëŠ¥ (EXPLAIN ANALYZE)
```
-> Table scan on oi (actual time=5.68..638ms, rows=400,000 loops=1)
   -> Filter: status='COMPLETED' AND created_at>=... (loops=400,000)

Total: 2,930ms (ì•½ 2.93ì´ˆ)
```

#### ë¬¸ì œì 
- âŒ **order_items ì „ì²´ ìŠ¤ìº”**: 400,000ê±´ ì½ê¸°
- âŒ **400,000ë²ˆ í•„í„°ë§**: WHERE ì¡°ê±´ì„ ë§¤ë²ˆ ì²´í¬
- âŒ **ë¹„íš¨ìœ¨ì  JOIN ìˆœì„œ**: order_items â†’ products â†’ orders

---

### ğŸ”§ 2ë‹¨ê³„: orders í…Œì´ë¸”ì—ë§Œ ì¸ë±ìŠ¤ ì¶”ê°€

#### ì¶”ê°€í•œ ì¸ë±ìŠ¤
```sql
CREATE INDEX idx_orders_status_created_at ON orders(status, created_at);
```

#### ì„¤ê³„ ê·¼ê±°
```
1. WHERE ì ˆ ë¶„ì„:
   - status = 'COMPLETED' (ë“±í˜¸ ì¡°ê±´)
   - created_at >= 3ì¼ì „ (ë²”ìœ„ ì¡°ê±´)

2. ì¸ë±ìŠ¤ ì»¬ëŸ¼ ìˆœì„œ:
   - status â†’ created_at (ë“±í˜¸ ë¨¼ì €, ë²”ìœ„ ë‚˜ì¤‘)
   - MySQL ì¸ë±ìŠ¤ í™œìš© ì›ì¹™ ì¤€ìˆ˜

3. ì˜ˆìƒ í•„í„°ë§ íš¨ê³¼:
   - 200,000ê±´ â†’ 12,000ê±´ (94% ê°ì†Œ)
```

#### ê²°ê³¼
```
Total: 4,584ms (âŒ ì˜¤íˆë ¤ 56% ì•…í™”!)
```

#### ì™œ ì‹¤íŒ¨í–ˆë‚˜?
```
[ì‹¤í–‰ ê³„íš ë³€í™” ì—†ìŒ]
ì—¬ì „íˆ: order_items â†’ products â†’ orders

[ê·¼ë³¸ ì›ì¸]
- MySQL ì˜µí‹°ë§ˆì´ì €ê°€ order_itemsë¥¼ ë¨¼ì € ìŠ¤ìº”í•˜ëŠ” ì „ëµ ìœ ì§€
- ordersì˜ ì¸ë±ìŠ¤ê°€ WHERE í•„í„°ë§ì— ì‚¬ìš©ë˜ì§€ ëª»í•¨
- 400,000ë²ˆì˜ ë‹¨ê±´ ì¡°íšŒ í›„ ê°ê° í•„í„°ë§ ìˆ˜í–‰

[êµí›ˆ]
ë‹¨ì¼ í…Œì´ë¸” ì¸ë±ìŠ¤ë§Œìœ¼ë¡œëŠ” ë¶€ì¡±!
JOIN ìˆœì„œë¥¼ ë°”ê¾¸ë ¤ë©´ ëª¨ë“  í…Œì´ë¸”ì— ì¸ë±ìŠ¤ í•„ìš”
```

---

### âœ… 3ë‹¨ê³„: order_items ì¸ë±ìŠ¤ ì¶”ê°€ (ìµœì¢… í•´ê²°)

#### ì¶”ê°€í•œ ì¸ë±ìŠ¤
```sql
-- orders í…Œì´ë¸” (ê¸°ì¡´)
CREATE INDEX idx_orders_status_created_at ON orders(status, created_at);

-- order_items í…Œì´ë¸” (ì‹ ê·œ)
CREATE INDEX idx_order_items_order_id ON order_items(order_id);
CREATE INDEX idx_order_items_product_id ON order_items(product_id);
```

#### ì„¤ê³„ ê·¼ê±°
```
1. JOIN ì¡°ê±´ ë¶„ì„:
   - JOIN orders o ON oi.order_id = o.id
   - JOIN products pd ON oi.product_id = pd.id
   â†’ order_itemsê°€ ë‘ í…Œì´ë¸”ê³¼ ì¡°ì¸í•˜ë¯€ë¡œ ë‘ ì»¬ëŸ¼ ëª¨ë‘ ì¸ë±ìŠ¤ í•„ìš”

2. ì˜ˆìƒ íš¨ê³¼:
   - MySQL ì˜µí‹°ë§ˆì´ì €ê°€ JOIN ìˆœì„œ ë³€ê²½ ê°€ëŠ¥
   - orders â†’ order_items â†’ products ìˆœì„œë¡œ ì‹¤í–‰
   - ordersì˜ ì¸ë±ìŠ¤ê°€ ë¹„ë¡œì†Œ í™œìš©ë¨
```

#### ì‹¤í–‰ ê³„íš (EXPLAIN)
```
id  table  type   key                           rows   Extra
1   o      range  idx_orders_status_created_at  24,708 Using where; Using index
1   oi     ref    idx_order_items_order_id      2      NULL
1   pd     eq_ref PRIMARY                       1      NULL
```

âœ… **JOIN ìˆœì„œ ë³€ê²½**: orders â†’ order_items â†’ products
âœ… **ëª¨ë“  í…Œì´ë¸”ì—ì„œ ì¸ë±ìŠ¤ ì‚¬ìš©!**

#### ì‹¤ì œ ì„±ëŠ¥ (EXPLAIN ANALYZE)
```
-> Covering index range scan on o using idx_orders_status_created_at
   (actual time=0.123..3.58ms, rows=11,992 loops=1)
   -> Index lookup on oi using idx_order_items_order_id
      (actual time=0.0595..0.0599ms, rows=2 loops=11,992)
      -> Single-row index lookup on pd using PRIMARY
         (actual time=0.00211..0.00213ms, rows=1 loops=23,984)

Total: 840ms (âœ… 71.3% ê°œì„ !)
```

#### ê°œì„  ì‚¬í•­
- âœ… **ì‹¤í–‰ ì‹œê°„**: 2,930ms â†’ 840ms (71.3% ê°œì„ , ì•½ 3.5ë°° ë¹ ë¦„)
- âœ… **ì²˜ë¦¬ ë°ì´í„°**: 400,000ê±´ â†’ 11,992ê±´ (97% ê°ì†Œ)
- âœ… **í•„í„°ë§ ë°˜ë³µ**: 400,000ë²ˆ â†’ 11,992ë²ˆ (97% ê°ì†Œ)
- âœ… **Covering Index**: ì¸ë±ìŠ¤ë§Œìœ¼ë¡œ ë°ì´í„° ì¡°íšŒ ì™„ë£Œ (ë””ìŠ¤í¬ I/O ìµœì†Œí™”)

---

## ğŸ“ˆ ì „ì²´ ìµœì í™” ì—¬ì • ë¹„êµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1ë‹¨ê³„: ì¸ë±ìŠ¤ ì—†ìŒ                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì‹¤í–‰ ì‹œê°„: 2,930ms                                               â”‚
â”‚ ì‹¤í–‰ ê³„íš: order_items(ALL) â†’ products â†’ orders                  â”‚
â”‚ ì²˜ë¦¬ ë°ì´í„°: 400,000 rows                                         â”‚
â”‚ ë¬¸ì œì : order_items ì „ì²´ ìŠ¤ìº” + 400,000ë²ˆ WHERE í•„í„°ë§           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2ë‹¨ê³„: orders ì¸ë±ìŠ¤ë§Œ ì¶”ê°€                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì‹¤í–‰ ì‹œê°„: 4,584ms (âŒ 56% ì•…í™”!)                                â”‚
â”‚ ì‹¤í–‰ ê³„íš: order_items(ALL) â†’ products â†’ orders (ë³€í™” ì—†ìŒ)      â”‚
â”‚ ì¸ë±ìŠ¤: idx_orders_status_created_at (ì¸ì‹ë˜ë‚˜ ë¯¸ì‚¬ìš©)           â”‚
â”‚ ë¬¸ì œì : JOIN ìˆœì„œê°€ ë°”ë€Œì§€ ì•Šì•„ ì¸ë±ìŠ¤ í™œìš© ë¶ˆê°€                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3ë‹¨ê³„: order_items ì¸ë±ìŠ¤ ì¶”ê°€ (ìµœì¢…)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì‹¤í–‰ ì‹œê°„: 840ms (âœ… 71.3% ê°œì„ !)                                â”‚
â”‚ ì‹¤í–‰ ê³„íš: orders(range) â†’ order_items(ref) â†’ products(eq_ref)  â”‚
â”‚ ì²˜ë¦¬ ë°ì´í„°: 11,992 rows (97% ê°ì†Œ)                              â”‚
â”‚ ëª¨ë“  ì¸ë±ìŠ¤ í™œìš©: orders, order_items, products ëª¨ë‘ ì¸ë±ìŠ¤ ì‚¬ìš© â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ í•µì‹¬ êµí›ˆ

### 1. ì¸ë±ìŠ¤ ì„¤ê³„ ì›ì¹™
```
âœ… WHERE ì ˆ ì»¬ëŸ¼: ë“±í˜¸(=) â†’ ë²”ìœ„(>=, <=) ìˆœì„œ
âœ… JOIN ì»¬ëŸ¼: ì–‘ìª½ í…Œì´ë¸” ëª¨ë‘ ì¸ë±ìŠ¤ í•„ìš”
âŒ ë‹¨ì¼ í…Œì´ë¸”ë§Œ ê³ ë ¤í•˜ë©´ ì‹¤íŒ¨, ì „ì²´ JOIN ì „ëµ ê³ ë ¤ í•„ìˆ˜
```

### 2. MySQL ì˜µí‹°ë§ˆì´ì € ì´í•´
```
- ì˜µí‹°ë§ˆì´ì €ëŠ” ë¹„ìš©(cost) ê¸°ë°˜ìœ¼ë¡œ JOIN ìˆœì„œ ê²°ì •
- ì¸ë±ìŠ¤ê°€ ìˆì–´ë„ í…Œì´ë¸” ì „ì²´ ìŠ¤ìº”ì´ ë” ì €ë ´í•˜ë©´ ì‚¬ìš© ì•ˆ í•¨
- ì—¬ëŸ¬ í…Œì´ë¸” ì¸ë±ìŠ¤ê°€ ê°–ì¶°ì ¸ì•¼ ìµœì  ì‹¤í–‰ ê³„íš ì„ íƒ ê°€ëŠ¥
```

### 3. ì„±ëŠ¥ ìµœì í™” ìˆœì„œ
```
â‘  EXPLAINìœ¼ë¡œ í˜„ì¬ ì‹¤í–‰ ê³„íš íŒŒì•…
â‘¡ ë³‘ëª© ì§€ì  ì‹ë³„ (Full Scan, ë†’ì€ rows)
â‘¢ WHERE/JOIN ì¡°ê±´ ëª¨ë‘ ê³ ë ¤í•œ ì¸ë±ìŠ¤ ì„¤ê³„
â‘£ EXPLAIN ANALYZEë¡œ ì‹¤ì œ ì„±ëŠ¥ ì¸¡ì •
â‘¤ ì‹¤í–‰ ê³„íšì´ ë°”ë€Œì§€ ì•Šìœ¼ë©´ ì¶”ê°€ ì¸ë±ìŠ¤ ê²€í† 
```

### 4. ì´ ì¿¼ë¦¬ì—ì„œ ë°°ìš´ ì 
```
âŒ orders ì¸ë±ìŠ¤ë§Œìœ¼ë¡œëŠ” ë¶€ì¡± (JOIN ìˆœì„œê°€ ë°”ë€Œì§€ ì•ŠìŒ)
âœ… order_items ì¸ë±ìŠ¤ê°€ ì¶”ê°€ë˜ì–´ì•¼ ordersê°€ ë¨¼ì € ì‹¤í–‰ë¨
âœ… ëª¨ë“  ì¡°ì¸ í…Œì´ë¸”ì— ì ì ˆí•œ ì¸ë±ìŠ¤ê°€ ìˆì–´ì•¼ ì‹œë„ˆì§€ íš¨ê³¼
âœ… 71.3% ì„±ëŠ¥ ê°œì„  = 3ê°œ ì¸ë±ìŠ¤ì˜ í˜‘ì—… ê²°ê³¼
```

---

## ğŸ“ ì‹¤í–‰ ê³„íš ìš©ì–´ ì„¤ëª…

| ìš©ì–´ | ì„¤ëª… | ì„±ëŠ¥ |
|------|------|------|
| **type: ALL** | ì „ì²´ í…Œì´ë¸” ìŠ¤ìº” | âŒ ìµœì•… |
| **type: range** | ì¸ë±ìŠ¤ ë²”ìœ„ ìŠ¤ìº” | âœ… ì–‘í˜¸ |
| **type: ref** | ì¸ë±ìŠ¤ë¥¼ í†µí•œ ë™ë“± ë¹„êµ | âœ… ì¢‹ìŒ |
| **type: eq_ref** | PRIMARY/UNIQUE í‚¤ë¥¼ í†µí•œ ì¡°ì¸ | âœ… ìµœìƒ |
| **Using index** | Covering Index (ì¸ë±ìŠ¤ë§Œìœ¼ë¡œ ì¡°íšŒ) | âœ… ìµœì  |
| **Using where** | WHERE ì ˆ í•„í„°ë§ ìˆ˜í–‰ | âš ï¸ ì¶”ê°€ ì‘ì—… |
| **Using temporary** | ì„ì‹œ í…Œì´ë¸” ì‚¬ìš© (GROUP BY, ORDER BY) | âš ï¸ ì¶”ê°€ ë¹„ìš© |
| **Using filesort** | íŒŒì¼ ì •ë ¬ ìˆ˜í–‰ (ORDER BY) | âš ï¸ ì¶”ê°€ ë¹„ìš© |

---

## ğŸ”® í–¥í›„ ê°œì„  ë°©í–¥

### 1. ë³µí•© ì¸ë±ìŠ¤ í™•ì¥
```sql
-- order_itemsì— ë³µí•© ì¸ë±ìŠ¤ ì¶”ê°€ (Covering Index)
CREATE INDEX idx_order_items_covering
ON order_items(order_id, product_id, quantity);
```
â†’ ì¸ë±ìŠ¤ë§Œìœ¼ë¡œ ëª¨ë“  ì»¬ëŸ¼ ì¡°íšŒ ê°€ëŠ¥, í…Œì´ë¸” ì ‘ê·¼ ë¶ˆí•„ìš”

### 2. ì¿¼ë¦¬ ìºì‹±
```java
@Cacheable(value = "popularProducts", key = "'last3days'")
public List<ProductResponse> getPopularProducts() {
    // 5ë¶„ TTLë¡œ ìºì‹±
}
```
â†’ 840ms â†’ ìˆ˜ msë¡œ ë‹¨ì¶•

### 3. ì¸ë±ìŠ¤ ìœ ì§€ë³´ìˆ˜
```sql
-- ì¸ë±ìŠ¤ í†µê³„ ê°±ì‹ 
ANALYZE TABLE orders;
ANALYZE TABLE order_items;

-- ì¸ë±ìŠ¤ ì‚¬ìš©ë¥  ëª¨ë‹ˆí„°ë§
SHOW INDEX FROM orders;
```
â†’ ì˜µí‹°ë§ˆì´ì €ê°€ ìµœì‹  í†µê³„ë¡œ ìµœì  ì‹¤í–‰ ê³„íš ìˆ˜ë¦½

### 4. íŒŒí‹°ì…”ë‹ ê³ ë ¤ (ëŒ€ìš©ëŸ‰ ë°ì´í„°)
```sql
-- created_at ê¸°ì¤€ íŒŒí‹°ì…”ë‹
ALTER TABLE orders PARTITION BY RANGE (YEAR(created_at)) (
    PARTITION p2024 VALUES LESS THAN (2025),
    PARTITION p2025 VALUES LESS THAN (2026)
);
```
â†’ ìµœê·¼ 3ì¼ ë°ì´í„°ë§Œ ìŠ¤ìº”, Old ë°ì´í„°ëŠ” ìŠ¤í‚µ

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [MySQL 8.0 Reference Manual - EXPLAIN](https://dev.mysql.com/doc/refman/8.0/en/explain.html)
- [MySQL 8.0 Reference Manual - Optimization and Indexes](https://dev.mysql.com/doc/refman/8.0/en/optimization-indexes.html)
- [High Performance MySQL](https://www.oreilly.com/library/view/high-performance-mysql/9781492080503/)
- [Use The Index, Luke! - A Guide To Database Performance](https://use-the-index-luke.com/)

---

## ğŸ“ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” í•™ìŠµ ëª©ì ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
